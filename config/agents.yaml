# Agent configuration for CONTEXT-SVC
# Defines what data each Research Agent consumes and its context constraints.

agents:
  COGNIT-FUNDAMENTAL:
    consumes:
      - FILING_10K
      - FILING_10Q
      - FILING_8K
      - PRICE_OHLCV
      - MACRO_YIELD_CURVE
    max_token_budget: 100000
    entity_scope: []  # empty = all entities
    peer_count: 3
    peer_group: sector_peers
    priority_window_hours: 24

  COGNIT-TECHNICAL:
    consumes:
      - PRICE_OHLCV
      - OPTIONS_CHAIN
    max_token_budget: 50000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  COGNIT-NARRATIVE:
    consumes:
      - EARNINGS_CALL
      - SENTIMENT_NEWS
      - FILING_8K
    max_token_budget: 120000
    entity_scope: []
    peer_count: 5
    peer_group: sector_peers
    priority_window_hours: 48

  COGNIT-MACRO:
    consumes:
      - MACRO_YIELD_CURVE
      - MACRO_CDS
      - MACRO_ECONOMIC
      - PRICE_OHLCV
    max_token_budget: 80000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 72

  COGNIT-EVENT:
    consumes:
      - FILING_8K
      - SENTIMENT_NEWS
      - PRICE_OHLCV
      - OPTIONS_CHAIN
    max_token_budget: 60000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 12

  COGNIT-CROSSSEC:
    consumes:
      - FILING_10Q
      - PRICE_OHLCV
      - EARNINGS_CALL
    max_token_budget: 100000
    entity_scope: []
    peer_count: 5
    peer_group: sector_peers
    priority_window_hours: 48

  REGIME-STAT:
    consumes:
      - PRICE_OHLCV
      - MACRO_YIELD_CURVE
      - MACRO_CDS
      - MACRO_ECONOMIC
      - OPTIONS_CHAIN
    max_token_budget: 50000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 72

  REGIME-SECTOR:
    consumes:
      - PRICE_OHLCV
      - MACRO_YIELD_CURVE
      - MACRO_CDS
      - MACRO_ECONOMIC
      - OPTIONS_CHAIN
    max_token_budget: 50000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 72

  REGIME-NARR:
    consumes:
      - SENTIMENT_NEWS
      - EARNINGS_CALL
      - MACRO_YIELD_CURVE
      - MACRO_CDS
      - MACRO_ECONOMIC
      - PRICE_OHLCV
    max_token_budget: 80000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 48

  REGIME-MISMATCH:
    consumes: []  # Reads upstream regime outputs from metadata, not raw fragments
    max_token_budget: 10000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 72

  DECIDE-SYNTH:
    consumes: []  # Reads beliefs and regime from metadata, not raw fragments
    max_token_budget: 120000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  DECIDE-OPTIM:
    consumes: []  # Reads position intents and regime from metadata, not raw fragments
    max_token_budget: 10000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  EXEC-VALIDATE:
    consumes: []  # Reads proposals from metadata
    max_token_budget: 10000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  EXEC-ROUTER:
    consumes: []  # Reads validated proposals from metadata
    max_token_budget: 5000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  EXEC-GUARDIAN:
    consumes: []  # Reads routing plan from metadata
    max_token_budget: 5000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  EXEC-CAPTURE:
    consumes: []  # Reads active positions from metadata
    max_token_budget: 5000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  COGNIT-EXIT:
    consumes:
      - PRICE_OHLCV
    max_token_budget: 80000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  INVALID-MON:
    consumes: []  # Reads beliefs and current values from metadata
    max_token_budget: 5000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 12

  THESIS-RENEW:
    consumes: []  # Reads beliefs and invalidation state from metadata
    max_token_budget: 5000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  SHADOW-EXIT:
    consumes: []  # Reads exit assessments and capture decisions from metadata
    max_token_budget: 5000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  RENEW-MON:
    consumes: []  # Reads beliefs and invalidation results from metadata
    max_token_budget: 5000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 12

  LEARN-ATTRIB:
    consumes: []  # Reads closed positions and belief history from metadata
    max_token_budget: 10000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 168  # Weekly offline runs

  LEARN-CALIB:
    consumes: []  # Reads belief outcomes from metadata
    max_token_budget: 10000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 168  # Weekly offline runs

  LEARN-RETRAIN:
    consumes: []  # Reads attribution and calibration results from metadata
    max_token_budget: 10000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 168  # Weekly offline runs

  LEARN-BACKTEST:
    consumes: []  # Reads trade and regime history from metadata
    max_token_budget: 10000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 168  # Weekly offline runs

  GOVERN-CAPITAL:
    consumes: []  # Reads AUM from metadata
    max_token_budget: 5000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 24

  GOVERN-MATURITY:
    consumes: []  # Reads agent maturity state and learning outputs from metadata
    max_token_budget: 10000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 168  # Weekly evaluations

  GOVERN-OVERSIGHT:
    consumes: []  # Reads agent health reports and system state from metadata
    max_token_budget: 10000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 1  # Near real-time monitoring

  GOVERN-POLICY:
    consumes: []  # Reads system state, positions, maturity from metadata
    max_token_budget: 5000
    entity_scope: []
    peer_count: 0
    priority_window_hours: 1  # Near real-time enforcement
